<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="sidenav">
        <div> Allies</div>>
        <a href="#">The New Kid</a>
        <a href="#">The Da Vinci of Our Time</a>
        <a href="#">The Merchant of Death</a>
        <a href="#">Metal Man</a>
    </div>
    <div class="main">
        <header>
            <h2>cmps183: Homework 1 </h2>
            <a href=index.html> Home</a>
            <a href="todo.html"> To do list</a>
            <a href="todoForm.html"> To do form</a>
        </header>

        <form>
            <fieldset>
                <legend>To do list</legend>
                <div>
                    <div onclick="showAll()"> Show All </div><br>
                    <div onclick="showToDo()"> Show To Do </div><br>
                    <div onclick="showDone()"> Show Done </div><br>
                    <div onclick="editContent()"> Edit </div><br>
                    <button onclick="deleteItem()"> Delete item</button><br>
                </div>
            </fieldset>
        </form>

        <footer>
            <a href=#>About Us</a>
            <a href=#>Contact</a>
            <a href=#>Privacy</a>
            <a href=#>Credits</a>
        </footer>
     
    </div>
   <script>
        
        let current = new Date();
        let d =  (current.getYear()+1900) + '-' + 0 + (current.getMonth()+1) + '-' + current.getDate();
        tasks= [{
            displayValue: 'block',
            title:"Help_spiderman",
            id:"spidermanFlag",
            date: "spierman_date",
            update: "spiderupdatedate",
            taskDes: "Help spiderman",
            ifUrgent: "not urgent",
        }, {
            displayValue: 'block',
            title:"Talk_to_black_widow",
            id:"widowFlag",
            date: "widow_date",
            update:  "widowupdatedate",
            taskDes: "Talk to black widow",
            ifUrgent: "not urgent",
        }, {
            displayValue: 'block',
            title:"Have_dinner_with_Pepper",
            id:"pepperFlag",
            date: "pepper_date",
            update:  "pepperupdatedate",
            taskDes: "Have dinner with Pepper",
            ifUrgent: "not urgent",
        }, {
            displayValue: 'block',
            title:"Hang_out_with_Captain",
            id:"captainFlag",
            date: "captain_date",
            update:  "captiainupdatedate",
            taskDes: "Hang out with Captain",
            ifUrgent: "Now",
        } ]

        for (var i = 0; i < tasks.length; i++){
            document.getElementsByTagName('fieldset').item(0).appendChild(renderTasks(i));
        }
        


        function renderTasks(i) {
            var totalDiv = document.createElement("div");
            var headDiv = document.createElement("div");
            headDiv.setAttribute("id", tasks[i].id);
            var DoneMark = document.createElement("a");
            var DownTextNode = document.createTextNode("Done:")
            DoneMark.appendChild(DownTextNode);
            var tsinputMark = document.createElement("input");
            tsinputMark.setAttribute("id", tasks[i].title);
            tsinputMark.setAttribute("type", "checkbox");
            tsinputMark.setAttribute("name", "todo");
            tsinputMark.setAttribute("value", tasks[i].title);
            tsinputMark.setAttribute("onchange", tasks[i].dataFunction);
            var dateDiv = document.createElement("div");
            var DateBound = document.createElement("a");
            var DateTextNode = document.createTextNode("Date Created:")
            DateBound.appendChild(DateTextNode);
            var dateInputMark = document.createElement("input");
            dateInputMark.setAttribute("id", tasks[i].date);
            dateInputMark.setAttribute("type", "date");
            dateDiv.appendChild(DateBound);
            dateDiv.appendChild(dateInputMark);
            var updateDiv = document.createElement("div");
            var updateBound = document.createElement("a");
            var updateText = document.createTextNode("Last Update: ")
            updateBound.appendChild(updateText);
            var updateInput = document.createElement("input");
            updateInput.setAttribute("id", tasks[i].update);
            updateDiv.appendChild(updateBound);
            updateDiv.appendChild(updateInput);
            var toDoBound = document.createElement("a");
            var toDoText = document.createTextNode("What to do: ");
            toDoBound.appendChild(toDoText);
            var DesLabel = document.createElement("label");
            DesLabel.setAttribute("for", tasks[i].taskDes);
            var labelContent = document.createTextNode(tasks[i].taskDes);
            DesLabel.appendChild(labelContent);
            var urgentDiv = document.createElement("div");
            var urgentBound = document.createElement("a");
            urgentText = document.createTextNode(tasks[i].ifUrgent);
            urgentBound.appendChild(urgentText);
            urgentDiv.appendChild(urgentBound);
            var dueBound = document.createElement("due");
            var dueText = document.createTextNode("2030.1.1");
            var deleteDiv = document.createElement("div");
            var deleteMark = document.createElement("a");
            var deleteText = document.createTextNode("Delete It:")
            DoneMark.appendChild(deleteText);
            var deleteinput = document.createElement("input");
            deleteinput.setAttribute("id", tasks[i].title);
            deleteinput.setAttribute("type", "checkbox");
            deleteinput.setAttribute("name", "delete");
            deleteinput.setAttribute("value", tasks[i].title);
            deleteinput.setAttribute("onchange", deleteItem(i));
            var newBr = document.createElement("br");

            dueBound.appendChild(dueText);
            headDiv.appendChild(DoneMark);
            headDiv.appendChild(tsinputMark);
            headDiv.appendChild(dateDiv);
            headDiv.appendChild(updateDiv);
            headDiv.appendChild(toDoBound);
            headDiv.appendChild(DesLabel);
            headDiv.appendChild(urgentDiv);
            headDiv.appendChild(dueBound);
            headDiv.appendChild(deleteDiv);
            totalDiv.appendChild(headDiv);
            totalDiv.appendChild(newBr);
            return totalDiv;


        }

        function showAll() {
            for (var i = 0; i < tasks.length; i++){
                document.getElementById(tasks[i].id).style.display = tasks[i].displayValue;
            }
        }

        function showToDo() {
            document.getElementById('spidermanFlag').style.display = 'none';
            document.getElementById('widowFlag').style.display = 'none';
            document.getElementById('pepperFlag').style.display = 'none';
            document.getElementById('captainFlag').style.display = 'none';
            if (!document.getElementById('Help_spiderman').checked) document.getElementById('spidermanFlag').style
                .display = spidermanDisplayValue;
            if (!document.getElementById('Talk_to_black_widow').checked) document.getElementById(
                'widowFlag').style.display = widowDisplayValue;
            if (!document.getElementById('Have_dinner_with_Pepper').checked) document.getElementById(
                'pepperFlag').style.display = peperDisplayValue;
            if (!document.getElementById('Hang_out_with_Captain').checked) document.getElementById(
                'captainFlag').style.display = CaptainDisplayValue;
        }

        function showDone() {
            document.getElementById('spidermanFlag').style.display = 'none';
            document.getElementById('widowFlag').style.display = 'none';
            document.getElementById('pepperFlag').style.display = 'none';
            document.getElementById('captainFlag').style.display = 'none';
            if (document.getElementById('Help_spiderman').checked) document.getElementById('spidermanFlag').style.display =
                spidermanDisplayValue;
            if (document.getElementById('Talk_to_black_widow').checked) document.getElementById(
                'widowFlag').style.display = widowDisplayValue;
            if (document.getElementById('Have_dinner_with_Pepper').checked) document.getElementById(
                'pepperFlag').style.display = peperDisplayValue;
            if (document.getElementById('Hang_out_with_Captain').checked) document.getElementById(
                'captainFlag').style.display = CaptainDisplayValue;
        }

        function deleteItem(i) {
            tasks.splice(i, 1);
            showAll();
        }

        function edit_content(){

        }
        function reset_date(i){
            //console.log(d)
            document.getElementById(tasks[i].update).value = d;
        }

       
    </script>
</body>

</html>